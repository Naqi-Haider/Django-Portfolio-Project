{% extends "layout.html" %}

{% block title %}Naqi Haider | Projects{% endblock %}

{% block content %}
<section class="page-section">
  <h1 class="section-title">Projects</h1>

  {% if is_admin %}
  <div class="admin-actions">
    <a href="{% url 'add_project' %}" class="btn-add">+ Add Project</a>
  </div>
  {% endif %}

  {% for project in projects_list %}
  <div class="content-item">
    <h3 class="item-title">{{ project.title }}</h3>
    <p class="item-subtitle">{{ project.get_project_type_display }}</p>
    <p class="item-technologies"><strong>Technologies:</strong> {{ project.technologies }}</p>
    <p class="item-description">{{ project.description }}</p>
    {% if project.github_link or project.live_link %}
    <div class="project-links">
      {% if project.github_link %}
      <a href="{{ project.github_link }}" target="_blank" class="project-link">GitHub</a>
      {% endif %}
      {% if project.live_link %}
      <a href="{{ project.live_link }}" target="_blank" class="project-link">Live Demo</a>
      {% endif %}
    </div>
    {% endif %}
    {% if is_admin %}
    <div class="item-actions">
      <a href="{% url 'edit_project' project.pk %}" class="btn-edit-sm">Edit</a>
      <a href="{% url 'delete_project' project.pk %}" class="btn-delete-sm">Delete</a>
    </div>
    {% endif %}
  </div>
  {% empty %}
  <div class="content-item">
    <p>No projects yet.</p>
    {% if is_admin %}
    <p><a href="{% url 'add_project' %}">Add your first project</a></p>
    {% endif %}
  </div>
  {% endfor %}
</section>

<style>
  .item-technologies {
    color: #666;
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
  }

  .project-links {
    margin-top: 0.75rem;
    display: flex;
    gap: 1rem;
  }

  .project-link {
    padding: 0.4rem 0.8rem;
    background: var(--primary-color);
    color: var(--secondary-color);
    font-size: 0.85rem;
    border-radius: 3px;
  }

  .project-link:hover {
    opacity: 0.9;
  }
</style>
{% endblock %}